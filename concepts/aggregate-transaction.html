
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Aggregate Transaction &#8212; Symbol Developers</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700&display=swap" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/examplecode.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'Master',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/custom.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/examplecode.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Account Restriction" href="account-restriction.html" />
    <link rel="prev" title="Transfer Transaction" href="transfer-transaction.html" />
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=5'>
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
<script type="text/javascript">
    var _paq = window._paq || [];
    _paq.push(['disableCookies']);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        var u="https://nemtech.matomo.cloud/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/nemtech.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
    })();
</script>

  
  <link rel="alternate" type="application/atom+xml"  href="../guides/atom.xml" title="Blog">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body>

<div class="navbar navbar-default gradient navbar-fixed-top"
     id="navbar">
    <div class="container navbar-top hidden-xs hidden-sm">
        <div class="row">
            <div class="col-lg-8 col-md-7">
                <div id="language">
    <label class="select">
        <select>
            <option id="english" value="en">EN</option>
            <option id="japanese" value="ja">JA</option>
            <!--<option id="chinese" value="zh_CN">中文</option>-->
            <option id="translate" value="translate">Translate</option>
        </select>
    </label>
</div>
            </div>
            <div class="col-lg-4 col-md-5">
                
                <div id="search-box">
    <input class="search search-desktop form-control" placeholder="Search"/>
</div>
                
                <ul id="social" class="list-inline">
    <li>
        <a href="https://twitter.com/NEMofficial" rel="nofollow"><i class="fab fa-twitter"></i></a>
    </li>
    <li>
        <a href="https://join.slack.com/t/nem2/shared_invite/enQtMzY4MDc2NTg0ODgyLWZmZWRiMjViYTVhZjEzOTA0MzUyMTA1NTA5OWQ0MWUzNTA4NjM5OTJhOGViOTBhNjkxYWVhMWRiZDRkOTE0YmU"
           rel="nofollow"><i class="fab fa-slack"></i></a>
    </li>
    <li>
        <a href="https://github.com/nemtech/" rel="nofollow"><i class="fab fa-github"></i></a>
    </li>
</ul>
            </div>
        </div>
    </div>
    <hr/>
    <div class="container navbar-main">
        <div class="row">
            <div class="navbar-header col-lg-6 col-md-4 col-xs-6">
                <a class="navbar-brand" href="../index.html">
                    
                    <span><img alt="NEM logo" src="../_static/logo-symbol.svg"></span>
                    
                </a>
            </div>
            <div class="navbar-right col-lg-6 col-md-8 hidden-xs hidden-sm">
                <ul class="list-inline">
    <li>
        <a href="/" class="active">Developers</a>
    </li>
</ul>
            </div>
            <div class="navbar-right col-xs-6 hidden-lg hidden-md">
                
                <div id="search-box">
    <input class="search search-mobile form-control" placeholder="Search"/>
</div>
                

            </div>
        </div>
        <div class="row">
            <div class="col-md-12 sidebar-xs visible-xs visible-sm">
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Navigation <b
                            class="caret"></b></a>
                    <ul class="dropdown-menu globaltoc"><p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/setup-workstation.html">Setting up your workstation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/first-application.html">Writing your first application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/migration/migrating-from-nem-to-symbol.html">Migrating from NEM to Symbol</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/account/creating-an-account.html">Creating an account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/transfer/sending-a-transfer-transaction.html">Sending mosaics and messages between two accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/mosaic/creating-a-mosaic.html">Creating a mosaic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/multisig/creating-a-multisig-account.html">Creating a multisig account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/network/running-a-test-net-node.html">Running a test net node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/network/creating-a-private-test-net.html">Creating a private test net</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nemtech.github.io/guides/category.html">More guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Built-in Features</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic.html">Mosaic</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="transfer-transaction.html">Transfer Transaction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Aggregate Transaction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#aggregate-complete">Aggregate complete</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aggregate-bonded">Aggregate bonded</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sending-multiple-transactions-together">Sending multiple transactions together</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multi-asset-escrowed-transactions">Multi-asset escrowed transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#paying-for-others-fees">Paying for others fees</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#guides">Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transaction-schemas">Transaction schemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aggregatetransaction">AggregateTransaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detachedcosignature">DetachedCosignature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cosignature">Cosignature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashlocktransaction">HashLockTransaction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="account-restriction.html">Account Restriction</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic-restriction.html">Mosaic Restriction</a></li>
<li class="toctree-l1"><a class="reference internal" href="multisig-account.html">Multisig Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross-chain-swaps.html">Cross-Chain Swaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin.html">Extending Symbol</a></li>
</ul>
<p class="caption"><span class="caption-text">Protocol</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="block.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="transaction.html">Transaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="fees.html">Fees</a></li>
<li class="toctree-l1"><a class="reference internal" href="receipt.html">Receipt</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-validation.html">Data Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="consensus-algorithm.html">Consensus</a></li>
<li class="toctree-l1"><a class="reference internal" href="harvesting.html">Harvesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflation.html">Inflation</a></li>
<li class="toctree-l1"><a class="reference internal" href="node.html">Node</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nemtech.github.io/catapult-whitepaper/main.pdf">Whitepaper</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">REST Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server.html">Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk.html">SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wallets.html">Wallets</a></li>
</ul>
<p class="caption"><span class="caption-text">Contribute</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute/community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributing.html">Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributors.html">Contributors</a></li>
</ul>
</ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        
        

<div class="col-md-3">
    <div id="sidebar" class="bs-sidenav" role="complementary">
        
        <div class="sidebar-md hidden-xs hidden-sm">
    <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/setup-workstation.html">Setting up your workstation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/first-application.html">Writing your first application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/migration/migrating-from-nem-to-symbol.html">Migrating from NEM to Symbol</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/account/creating-an-account.html">Creating an account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/transfer/sending-a-transfer-transaction.html">Sending mosaics and messages between two accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/mosaic/creating-a-mosaic.html">Creating a mosaic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/multisig/creating-a-multisig-account.html">Creating a multisig account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/network/running-a-test-net-node.html">Running a test net node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/network/creating-a-private-test-net.html">Creating a private test net</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nemtech.github.io/guides/category.html">More guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Built-in Features</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic.html">Mosaic</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="transfer-transaction.html">Transfer Transaction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Aggregate Transaction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#aggregate-complete">Aggregate complete</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aggregate-bonded">Aggregate bonded</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sending-multiple-transactions-together">Sending multiple transactions together</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multi-asset-escrowed-transactions">Multi-asset escrowed transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#paying-for-others-fees">Paying for others fees</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#guides">Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transaction-schemas">Transaction schemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aggregatetransaction">AggregateTransaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detachedcosignature">DetachedCosignature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cosignature">Cosignature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashlocktransaction">HashLockTransaction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="account-restriction.html">Account Restriction</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic-restriction.html">Mosaic Restriction</a></li>
<li class="toctree-l1"><a class="reference internal" href="multisig-account.html">Multisig Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross-chain-swaps.html">Cross-Chain Swaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin.html">Extending Symbol</a></li>
</ul>
<p class="caption"><span class="caption-text">Protocol</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="block.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="transaction.html">Transaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="fees.html">Fees</a></li>
<li class="toctree-l1"><a class="reference internal" href="receipt.html">Receipt</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-validation.html">Data Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="consensus-algorithm.html">Consensus</a></li>
<li class="toctree-l1"><a class="reference internal" href="harvesting.html">Harvesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflation.html">Inflation</a></li>
<li class="toctree-l1"><a class="reference internal" href="node.html">Node</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nemtech.github.io/catapult-whitepaper/main.pdf">Whitepaper</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">REST Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server.html">Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk.html">SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wallets.html">Wallets</a></li>
</ul>
<p class="caption"><span class="caption-text">Contribute</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute/community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributing.html">Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributors.html">Contributors</a></li>
</ul>

    <p class="version">
        <small><b>Version:</b> <a href="https://github.com/nemtech/nem2-docs/releases">0.21.4</a></small>
    </p>
</div>
        
    </div>
</div>


        
        <div class="col-md-7 content">
            
  <div class="section" id="aggregate-transaction">
<h1>Aggregate Transaction<a class="headerlink" href="#aggregate-transaction" title="Permalink to this headline">¶</a></h1>
<p id="id1">Aggregate transactions merge multiple transactions into one, allowing <strong>trustless swaps</strong>, and other advanced logic.
Symbol does this by generating a one-time disposable smart contract.</p>
<div class="figure align-center" id="id5">
<img alt="../_images/aggregate-escrow-1.png" src="../_images/aggregate-escrow-1.png" style="width: 450px;" />
<p class="caption"><span class="caption-text">Example of an AggregateTransaction between two participants</span></p>
</div>
<p>When all involved <a class="reference internal" href="account.html"><span class="doc">accounts</span></a> have cosigned the AggregateTransaction, all the inner transactions are executed at the same time.</p>
<p>Symbol’s <a class="reference internal" href="../guides/network/configuring-network-properties.html#config-network-properties"><span class="std std-ref">public network</span></a> supports aggregate transaction containing up to <code class="docutils literal"><span class="pre">1,000</span></code> inner transactions involving up to <code class="docutils literal"><span class="pre">25</span></code> different cosignatories.
Other aggregate transactions are not allowed as inner transactions.</p>
<div class="section" id="aggregate-complete">
<span id="id2"></span><h2>Aggregate complete<a class="headerlink" href="#aggregate-complete" title="Permalink to this headline">¶</a></h2>
<p>An AggregateTransaction is  <strong>complete</strong> when all the required participants have signed it.</p>
<p>The cosigners can sign the transaction without using the blockchain.
Once it has all the required signatures, one of them can announce it to the network.
If the inner transaction setup is valid, and there is no validation error, the transactions will get executed at the same time.</p>
<p>Aggregate complete transactions enable adding more transactions per block by gathering multiple inner transactions.</p>
</div>
<div class="section" id="aggregate-bonded">
<span id="id3"></span><h2>Aggregate bonded<a class="headerlink" href="#aggregate-bonded" title="Permalink to this headline">¶</a></h2>
<p>An AggregateTransaction is <strong>bonded</strong> when it requires signatures from other participants.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Before announcing an <strong>AggregateBondedTransaction</strong>, an account must announce and get confirmed a <a class="reference internal" href="#hash-lock-transaction"><span class="std std-ref">HashLockTransaction</span></a> locking <code class="docutils literal"><span class="pre">10</span></code> <code class="docutils literal"><span class="pre">symbol.xym</span></code>.</p>
</div>
<p>Once an aggregate bonded is announced, it reaches partial state—where it can live up to <code class="docutils literal"><span class="pre">2</span> <span class="pre">days</span></code>—and notifies its status through WebSockets or HTTP API calls.</p>
<p>Every time a cosignatory signs the transaction and announces an aggregate bonded <a class="reference internal" href="#cosignature"><span class="std std-ref">cosignature</span></a>, the network checks if all the required cosigners have signed.
When all signatures are acquired, the transaction changes to unconfirmed state until the network includes it in a block.</p>
<div class="figure align-center" id="id6">
<img alt="../_images/aggregate-bonded-transaction-cycle.png" src="../_images/aggregate-bonded-transaction-cycle.png" style="width: 900px;" />
<p class="caption"><span class="caption-text">AggregateBondedTransaction cycle</span></p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sending-multiple-transactions-together">
<h3>Sending multiple transactions together<a class="headerlink" href="#sending-multiple-transactions-together" title="Permalink to this headline">¶</a></h3>
<p>Dan announces an AggregateTransaction that merges two transfer transactions.</p>
<p>As Dan is the only required signatory, the transaction is considered complete after he signed.
After announcing it to the network, Alice and Bob will receive the mosaics at the same time.</p>
<div class="figure align-center" id="id7">
<img alt="../_images/aggregate-sending-payouts.png" src="../_images/aggregate-sending-payouts.png" style="width: 450px;" />
<p class="caption"><span class="caption-text">Sending payouts with aggregate complete transactions</span></p>
</div>
</div>
<div class="section" id="multi-asset-escrowed-transactions">
<h3>Multi-asset escrowed transactions<a class="headerlink" href="#multi-asset-escrowed-transactions" title="Permalink to this headline">¶</a></h3>
<p>In this example, Alice is buying tickets with <code class="docutils literal"><span class="pre">currency.euro</span></code> <a class="reference internal" href="mosaic.html"><span class="doc">mosaic</span></a>.
When the ticket distributor cosigns the AggregateTransaction, the swap will happen atomically.</p>
<div class="figure align-center" id="id8">
<img alt="../_images/aggregate-escrow-1.png" src="../_images/aggregate-escrow-1.png" style="width: 450px;" />
<p class="caption"><span class="caption-text">Multi-Asset Escrowed Transactions</span></p>
</div>
</div>
<div class="section" id="paying-for-others-fees">
<h3>Paying for others fees<a class="headerlink" href="#paying-for-others-fees" title="Permalink to this headline">¶</a></h3>
<p>Alice sends 10 <code class="docutils literal"><span class="pre">currency.euro</span></code> to Bob using an app to make payments.
But Alice doesn’t own <code class="docutils literal"><span class="pre">symbol.xym</span></code> to pay the transaction fee.</p>
<p>By creating an AggregateBondedTransaction, Alice can convert <code class="docutils literal"><span class="pre">currency.euro</span></code> to <code class="docutils literal"><span class="pre">symbol.xym</span></code> to pay the fee.
Now, Alice and Bob can use Symbol’s public blockchain without ever having to buy or hold <code class="docutils literal"><span class="pre">symbol.xym</span></code> units.</p>
<p>Since the app creator can put its own branding on the open source payment app, Alice and Bob may not even know they are using blockchain technology.</p>
<div class="figure align-center" id="id9">
<img alt="../_images/aggregate-paying-for-others-fees.png" src="../_images/aggregate-paying-for-others-fees.png" style="width: 450px;" />
<p class="caption"><span class="caption-text">Paying for others fees</span></p>
</div>
</div>
</div>
<div class="section" id="guides">
<h2>Guides<a class="headerlink" href="#guides" title="Permalink to this headline">¶</a></h2>
<ul class="postlist-style-circle postlist">
<li><p class="first"><a class="reference internal" href="../guides/aggregate/sending-multiple-transactions-together-with-aggregate-complete-transaction.html">Sending multiple transactions together</a></p>
<p>Send transactions to different accounts at the same time, using aggregate transactions.</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/aggregate/creating-an-escrow-contract-with-aggregate-bonded-transaction.html">Creating an escrow contract</a></p>
<p>Learn about aggregate bonded transactions creating an escrow contract.</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/aggregate/signing-announced-aggregate-bonded-transactions-automatically.html">Cosigning aggregate bonded transactions automatically</a></p>
<p>Create a bot to cosign automatically transactions that require your account’s signature.</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/aggregate/signing-announced-aggregate-bonded-transactions.html">Cosigning aggregate bonded transactions</a></p>
<p>How to cosign aggregate bonded transactions.</p>
</li>
</ul>
</div>
<div class="section" id="transaction-schemas">
<h2>Transaction schemas<a class="headerlink" href="#transaction-schemas" title="Permalink to this headline">¶</a></h2>
<div class="section" id="aggregatetransaction">
<h3>AggregateTransaction<a class="headerlink" href="#aggregatetransaction" title="Permalink to this headline">¶</a></h3>
<p>Announce an AggregateTransaction to combine multiple transactions together.</p>
<p><strong>Version</strong>: 0x01</p>
<p><strong>EntityType</strong>: 0x4141 (<a class="reference internal" href="#aggregate-complete"><span class="std std-ref">complete</span></a>), 0x4241 (<a class="reference internal" href="#aggregate-bonded"><span class="std std-ref">bonded</span></a>)</p>
<p><strong>Inlines</strong>:</p>
<p><a class="reference internal" href="transaction.html#id2"><span class="std std-ref">Transaction</span></a></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>transactionsHash</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/blob/master/schemas/types.cats">Hash256</a></td>
<td>Aggregate hash of the aggregate transaction.</td>
</tr>
<tr class="row-odd"><td>payloadSize</td>
<td>uint32</td>
<td>Transaction payload size in bytes. In other words, the total number of bytes occupied by all inner transactions.</td>
</tr>
<tr class="row-even"><td>aggregateTransactionHeader_Reserved1</td>
<td>uint32</td>
<td>Reserved padding to align end of AggregateTransactionHeader on 8-byte boundary.</td>
</tr>
<tr class="row-odd"><td>transactions</td>
<td>array(<a class="reference internal" href="transaction.html#id2"><span class="std std-ref">Transaction</span></a>, size=payloadSize)</td>
<td>Array of inner transactions. Other aggregate transactions are not allowed as inner transactions.</td>
</tr>
<tr class="row-even"><td>cosignatures</td>
<td>array(<a class="reference internal" href="#cosignature"><span class="std std-ref">Cosignature</span></a>, __FILL__)</td>
<td>Array of transaction <a class="reference internal" href="#cosignature"><span class="std std-ref">cosignatures</span></a>. Fills the remaining body space after transactions.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="detachedcosignature">
<span id="cosignature-transaction"></span><h3>DetachedCosignature<a class="headerlink" href="#detachedcosignature" title="Permalink to this headline">¶</a></h3>
<p>Cosignature transactions are used to sign <a class="reference internal" href="#id1"><span class="std std-ref">announced AggregateBondedTransactions</span></a> with missing cosignatures.</p>
<p><strong>Inlines</strong>:</p>
<ul class="simple">
<li><a class="reference internal" href="#cosignature-transaction"><span class="std std-ref">Cosignature</span></a></li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>parentHash</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/blob/master/schemas/types.cats">Hash256</a></td>
<td>AggregateBondedTransaction hash to cosign.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cosignature">
<span id="id4"></span><h3>Cosignature<a class="headerlink" href="#cosignature" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="transaction.html#id2"><span class="std std-ref">Transaction</span></a> or <a class="reference internal" href="transaction.html#embedded-transaction"><span class="std std-ref">EmbeddedTransaction</span></a></li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>signerPublicKey</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/blob/master/schemas/types.cats">Key</a></td>
<td>Cosigner public key.</td>
</tr>
<tr class="row-odd"><td>signature</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/blob/master/schemas/types.cats">Signature</a></td>
<td>Transaction signature.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashlocktransaction">
<span id="hash-lock-transaction"></span><h3>HashLockTransaction<a class="headerlink" href="#hashlocktransaction" title="Permalink to this headline">¶</a></h3>
<p><strong>Alias</strong>: LockFundsTransaction</p>
<p>Lock funds for a certain amount of blocks with a HashLockTransaction before sending an <a class="reference internal" href="#id1"><span class="std std-ref">AggregateBondedTransaction</span></a>.
This transaction prevents spamming the partial cache with transactions that never will complete.
The lock duration is allowed to lie up to <code class="docutils literal"><span class="pre">2</span> <span class="pre">days</span></code>, being this value <a class="reference internal" href="../guides/network/configuring-network-properties.html#config-network-properties"><span class="std std-ref">configurable per network</span></a>.</p>
<p>After enough funds are locked (<code class="docutils literal"><span class="pre">10</span></code> <code class="docutils literal"><span class="pre">symbol.xym</span></code> by default), the AggregateTransaction can be announced and added into the partial transactions cache.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It’s not necessary to sign the aggregate and its HashLockTransaction with the same account. For example, if Bob wants to announce an aggregate and does not have enough funds to announce a HashLockTransaction, he can ask Alice to send the hash lock funds transaction for him by sharing the signed AggregateTransaction hash.</p>
</div>
<p>Upon completion of the aggregate, the locked funds become available in the account that signed the initial HashLockTransaction.
If the AggregateBondedTransaction duration is reached without being signed by all cosignatories, the locked amount becomes a reward collected by the block harvester at the height where the lock expires.</p>
<p><strong>Version</strong>: 0x01</p>
<p><strong>EntityType</strong>: 0x4148</p>
<p><strong>Inlines</strong>:</p>
<ul class="simple">
<li><a class="reference internal" href="transaction.html#id2"><span class="std std-ref">Transaction</span></a> or <a class="reference internal" href="transaction.html#embedded-transaction"><span class="std std-ref">EmbeddedTransaction</span></a></li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>mosaic</td>
<td><a class="reference internal" href="mosaic.html#unresolved-mosaic"><span class="std std-ref">UnresolvedMosaic</span></a></td>
<td>Locked mosaic.</td>
</tr>
<tr class="row-odd"><td>duration</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/blob/master/schemas/types.cats">BlockDuration</a></td>
<td>Number of blocks for which a lock should be valid.</td>
</tr>
<tr class="row-even"><td>hash</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/blob/master/schemas/types.cats">Hash256</a></td>
<td>AggregateBondedTransaction hash that has to be confirmed before unlocking the mosaics.</td>
</tr>
</tbody>
</table>
<p>Continue: <a class="reference internal" href="account-restriction.html"><span class="doc">Account Restrictions</span></a>.</p>
</div>
</div>
</div>

  <div class="section">
  
  
  </div>

            
            <p class="feedback">
                <b>Did you find what you were looking for?</b>
                <a href="https://github.com/nemtech/symbol-docs/issues/new/choose" target="_blank">Give us your feedback.</a>
            </p>
            
        </div>
         

<div class="col-md-2">
    <div class="bs-sidenav secondary" role="complementary">
        <div class="edit-github">
    <a href="https://github.com/nemtech/symbol-docs/edit/master/source/concepts/aggregate-transaction.rst" rel="nofollow"> <i class="fab fa-github"></i> Improve this page</a>
</div>
        <span class="title">On this page</span>
        <ul>
<li><a class="reference internal" href="#">Aggregate Transaction</a><ul>
<li><a class="reference internal" href="#aggregate-complete">Aggregate complete</a></li>
<li><a class="reference internal" href="#aggregate-bonded">Aggregate bonded</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#sending-multiple-transactions-together">Sending multiple transactions together</a></li>
<li><a class="reference internal" href="#multi-asset-escrowed-transactions">Multi-asset escrowed transactions</a></li>
<li><a class="reference internal" href="#paying-for-others-fees">Paying for others fees</a></li>
</ul>
</li>
<li><a class="reference internal" href="#guides">Guides</a></li>
<li><a class="reference internal" href="#transaction-schemas">Transaction schemas</a><ul>
<li><a class="reference internal" href="#aggregatetransaction">AggregateTransaction</a></li>
<li><a class="reference internal" href="#detachedcosignature">DetachedCosignature</a></li>
<li><a class="reference internal" href="#cosignature">Cosignature</a></li>
<li><a class="reference internal" href="#hashlocktransaction">HashLockTransaction</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</div>

 
    </div>
</div>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-desktop',
        debug: false
    });

    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-mobile',
        debug: false
    });
</script>

  </body>
</html>