
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ノード &#8212; Symbol Developers</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700&display=swap" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/examplecode.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'Master',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/custom.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/examplecode.js"></script>
    <script type="text/javascript" src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="REST ゲートウェイ" href="../api.html" />
    <link rel="prev" title="インフレーション" href="inflation.html" />
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=5'>
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
<script type="text/javascript">
    var _paq = window._paq || [];
    _paq.push(['disableCookies']);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        var u="https://nemtech.matomo.cloud/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/nemtech.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
    })();
</script>

  
  <link rel="alternate" type="application/atom+xml"  href="../guides/atom.xml" title="Blog">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body>

<div class="navbar navbar-default gradient navbar-fixed-top"
     id="navbar">
    <div class="container navbar-top hidden-xs hidden-sm">
        <div class="row">
            <div class="col-lg-8 col-md-7">
                <div id="language">
    <label class="select">
        <select>
            <option id="english" value="en">EN</option>
            <option id="japanese" value="ja">JA</option>
            <!--<option id="chinese" value="zh_CN">中文</option>-->
            <option id="translate" value="translate">翻訳する</option>
        </select>
    </label>
</div>
            </div>
            <div class="col-lg-4 col-md-5">
                
                <div id="search-box">
    <input class="search search-desktop form-control" placeholder="Search"/>
</div>
                
                <ul id="social" class="list-inline">
    <li>
        <a href="https://twitter.com/NEMofficial" rel="nofollow"><i class="fab fa-twitter"></i></a>
    </li>
    <li>
        <a href="https://join.slack.com/t/nem2/shared_invite/enQtMzY4MDc2NTg0ODgyLWZmZWRiMjViYTVhZjEzOTA0MzUyMTA1NTA5OWQ0MWUzNTA4NjM5OTJhOGViOTBhNjkxYWVhMWRiZDRkOTE0YmU"
           rel="nofollow"><i class="fab fa-slack"></i></a>
    </li>
    <li>
        <a href="https://github.com/nemtech/" rel="nofollow"><i class="fab fa-github"></i></a>
    </li>
</ul>
            </div>
        </div>
    </div>
    <hr/>
    <div class="container navbar-main">
        <div class="row">
            <div class="navbar-header col-lg-6 col-md-4 col-xs-6">
                <a class="navbar-brand" href="../index.html">
                    
                    <span><img alt="NEM logo" src="../_static/logo-symbol.svg"></span>
                    
                </a>
            </div>
            <div class="navbar-right col-lg-6 col-md-8 hidden-xs hidden-sm">
                <ul class="list-inline">
    <li>
        <a href="/" class="active">Developers</a>
    </li>
</ul>
            </div>
            <div class="navbar-right col-xs-6 hidden-lg hidden-md">
                
                <div id="search-box">
    <input class="search search-mobile form-control" placeholder="Search"/>
</div>
                

            </div>
        </div>
        <div class="row">
            <div class="col-md-12 sidebar-xs visible-xs visible-sm">
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">ナビゲーション <b
                            class="caret"></b></a>
                    <ul class="dropdown-menu globaltoc"><p class="caption"><span class="caption-text">入門</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/setup-workstation.html">ワークステーションのセットアップ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/first-application.html">はじめてのアプリケーションを作成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/migration/migrating-from-nem-to-symbol.html">NEM から Symbol へのマイグレーション</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/account/creating-an-account.html">アカウントの作成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/transfer/sending-a-transfer-transaction.html">モザイクとメッセージを２つのアカウント間で送信</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/mosaic/creating-a-mosaic.html">モザイクの作成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/multisig/creating-a-multisig-account.html">マルチシグアカウントの作成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/network/running-a-test-net-node.html">テストネットノードの立ち上げ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/network/creating-a-private-test-net.html">プライベートテストネットの作成</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nemtech.github.io/guides/category.html">More guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Built-in Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="account.html">アカウント</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic.html">モザイク</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">ネームスペース</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">メタデータ</a></li>
<li class="toctree-l1"><a class="reference internal" href="transfer-transaction.html">転送トランザクション</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate-transaction.html">アグリゲートトランザクション</a></li>
<li class="toctree-l1"><a class="reference internal" href="account-restriction.html">アカウント制限</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic-restriction.html">モザイク制限</a></li>
<li class="toctree-l1"><a class="reference internal" href="multisig-account.html">マルチシグアカウント</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross-chain-swaps.html">クロスチェーンスワップ</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin.html">Symbol の拡張</a></li>
</ul>
<p class="caption"><span class="caption-text">Protocol</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cryptography.html">暗号理論</a></li>
<li class="toctree-l1"><a class="reference internal" href="block.html">ブロック</a></li>
<li class="toctree-l1"><a class="reference internal" href="transaction.html">トランザクション</a></li>
<li class="toctree-l1"><a class="reference internal" href="fees.html">手数料</a></li>
<li class="toctree-l1"><a class="reference internal" href="receipt.html">レシート</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-validation.html">データバリデーション</a></li>
<li class="toctree-l1"><a class="reference internal" href="consensus-algorithm.html">コンセンサス</a></li>
<li class="toctree-l1"><a class="reference internal" href="harvesting.html">ハーベスティング</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflation.html">インフレーション</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ノード</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#peer-node">Peer ノード</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rocksdb">RocksDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-reputation">ノードレピュテーション</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api-node">API ノード</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mongodb">MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zmq">ZMQ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rest-gateway">REST ゲートウェイ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#guides">ガイド</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transaction-schemas">Transaction schemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nodekeylinktransaction">NodeKeyLinkTransaction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://nemtech.github.io/catapult-whitepaper/main.pdf">Whitepaper</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">REST ゲートウェイ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server.html">サーバ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk.html">SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wallets.html">ウォレット</a></li>
</ul>
<p class="caption"><span class="caption-text">Contribute</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute/community.html">コミュニティ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributing.html">ガイドライン</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributors.html">貢献者</a></li>
</ul>
</ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        
        

<div class="col-md-3">
    <div id="sidebar" class="bs-sidenav" role="complementary">
        
        <div class="sidebar-md hidden-xs hidden-sm">
    <p class="caption"><span class="caption-text">入門</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/setup-workstation.html">ワークステーションのセットアップ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/first-application.html">はじめてのアプリケーションを作成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/migration/migrating-from-nem-to-symbol.html">NEM から Symbol へのマイグレーション</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/account/creating-an-account.html">アカウントの作成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/transfer/sending-a-transfer-transaction.html">モザイクとメッセージを２つのアカウント間で送信</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/mosaic/creating-a-mosaic.html">モザイクの作成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/multisig/creating-a-multisig-account.html">マルチシグアカウントの作成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/network/running-a-test-net-node.html">テストネットノードの立ち上げ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/network/creating-a-private-test-net.html">プライベートテストネットの作成</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nemtech.github.io/guides/category.html">More guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Built-in Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="account.html">アカウント</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic.html">モザイク</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">ネームスペース</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">メタデータ</a></li>
<li class="toctree-l1"><a class="reference internal" href="transfer-transaction.html">転送トランザクション</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate-transaction.html">アグリゲートトランザクション</a></li>
<li class="toctree-l1"><a class="reference internal" href="account-restriction.html">アカウント制限</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic-restriction.html">モザイク制限</a></li>
<li class="toctree-l1"><a class="reference internal" href="multisig-account.html">マルチシグアカウント</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross-chain-swaps.html">クロスチェーンスワップ</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin.html">Symbol の拡張</a></li>
</ul>
<p class="caption"><span class="caption-text">Protocol</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cryptography.html">暗号理論</a></li>
<li class="toctree-l1"><a class="reference internal" href="block.html">ブロック</a></li>
<li class="toctree-l1"><a class="reference internal" href="transaction.html">トランザクション</a></li>
<li class="toctree-l1"><a class="reference internal" href="fees.html">手数料</a></li>
<li class="toctree-l1"><a class="reference internal" href="receipt.html">レシート</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-validation.html">データバリデーション</a></li>
<li class="toctree-l1"><a class="reference internal" href="consensus-algorithm.html">コンセンサス</a></li>
<li class="toctree-l1"><a class="reference internal" href="harvesting.html">ハーベスティング</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflation.html">インフレーション</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ノード</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#peer-node">Peer ノード</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rocksdb">RocksDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-reputation">ノードレピュテーション</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api-node">API ノード</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mongodb">MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zmq">ZMQ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rest-gateway">REST ゲートウェイ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#guides">ガイド</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transaction-schemas">Transaction schemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nodekeylinktransaction">NodeKeyLinkTransaction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://nemtech.github.io/catapult-whitepaper/main.pdf">Whitepaper</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">REST ゲートウェイ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server.html">サーバ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk.html">SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wallets.html">ウォレット</a></li>
</ul>
<p class="caption"><span class="caption-text">Contribute</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute/community.html">コミュニティ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributing.html">ガイドライン</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributors.html">貢献者</a></li>
</ul>

    <p class="version">
        <small><b>Version:</b> <a href="https://github.com/nemtech/nem2-docs/releases">0.21.4</a></small>
    </p>
</div>
        
    </div>
</div>


        
        <div class="col-md-7 content">
            
  <div class="section" id="node">
<h1>ノード<a class="headerlink" href="#node" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Symbol ブロックチェーンプラットフォームは <strong>ノードのネットワーク</strong> によって構築されています。これらのノードはスマートアセットのトランザクションを実行、検索し、速やかにブロックチェーン台帳へ記録する、強力で、安定した、安全なプラットフォームを提供します。</p>
<div class="figure align-center" id="id4">
<img alt="../_images/four-layer-architecture.png" src="../_images/four-layer-architecture.png" style="width: 550px;" />
<p class="caption"><span class="caption-text">Symbol のパフォーマンス優位性: 4層アーキテクチャ</span></p>
</div>
<p><strong>4層アーキテクチャ</strong> により、開発者に他の層への影響を避けたアップデートを可能にし、セキュリティを向上させることができます。</p>
<div class="section" id="peer-node">
<span id="id1"></span><h2>Peer ノード<a class="headerlink" href="#peer-node" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>リポジトリ:</strong> <a href="https://github.com/nemtech/catapult-server" target="_blank">Catapult Server</a></p>
<div class="figure align-center" id="id5">
<img alt="../_images/peer-detail.png" src="../_images/peer-detail.png" style="width: 300px;" />
<p class="caption"><span class="caption-text">Peer ノードコミュニケーション</span></p>
</div>
<p>Peer ノードは、単一のエンティティを排除してもシャットダウンできない、堅牢なネットワークであるブロックチェーンのバックボーンを構成します。ノードの役割は <a class="reference internal" href="transaction.html#transaction-validation"><span class="std std-ref">トランザクション</span></a> と <a class="reference internal" href="block.html"><span class="doc">ブロック</span></a> を検証すること、コンセンサスアルゴリズムの実行、新しいブロックの生成、ネットワークへの変更の伝播を実行することです。</p>
<p>API ノードが新しいトランザクションを P2P ネットワークにプッシュすると、それらは <a class="reference internal" href="harvesting.html"><span class="doc">ブロックに含まれる</span></a> かまたは廃棄されます。ノードはブロックが処理された後にそれを保存します:</p>
<ul class="simple">
<li>各ブロックのバイナリはフラットなファイルとしてディスクに記録されます。</li>
<li>更新されたチェーンの状態はメモリまたは RocksDB にあります。(設定可能)</li>
</ul>
<div class="section" id="rocksdb">
<h3>RocksDB<a class="headerlink" href="#rocksdb" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Peer ノードは <a href=" https://en.wikipedia.org/wiki/RocksDB" target="_blank">RocksDB</a> へチェーンの状態を保存します。このキャッシュされたデータ構造はシリアライズされ、対応するキーに値として保存されます。例えば、ある特定の列は公開鍵をアドレスにマップします。他には、対応するアドレスをキーの値とした、アカウント状態のエントリです。</p>
<p>RocksDB を使用するよりも状態をメモリに保存しておくことのほうがより高速になります。しかし状態の情報を RocksDB に保存しておくことで、ネットワークのノードが必要とするメモリを少なくできます。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">RocksDB 上の状態を保持することは、大量のアカウントが存在するネットワークにおいて都合が良いです。</p>
</div>
</div>
<div class="section" id="node-reputation">
<h3>ノードレピュテーション<a class="headerlink" href="#node-reputation" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>パブリックネットワークでは誰でもノードを実行できます。これらのノードの中には無効な情報を共有したり、ネットワークを妨害しようとするものがあります。</p>
<p>誤解の機会を減らすために、ノードは先行する通信の結果を追跡します。P2P 機能を持つすべてのノードはそれが対話した他のすべての Peer ノードについて成功および失敗カウンタを保持します。</p>
<p>Nodes update the counters accordingly after processing the data requested.
If a node successfully connects to a remote peer, it first increments the success counter towards the remote peer.
If the communication attempt fails, the node increments the remote peer’s failure counter.
Likewise, the node updates the peer counters accordingly after processing data shared.</p>
<p>これらのスコアから推定して、ノードは到達したすべてのピアに500〜10000の重みを割り当てます。</p>
<p>The probability of selecting a remote node to read data from depends linearly on its weight.
Every four rounds of node selections, the criteria changes to prevent <a href=" https://en.wikipedia.org/wiki/Sybil_attack" target="_blank">Sybil attacks</a>.</p>
</div>
</div>
<div class="section" id="api-node">
<span id="id2"></span><h2>API ノード<a class="headerlink" href="#api-node" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>リポジトリ:</strong> <a href="https://github.com/nemtech/catapult-server" target="_blank">Catapult Server</a></p>
<div class="figure align-center" id="id6">
<img alt="../_images/api-detail.png" src="../_images/api-detail.png" style="width: 500px;" />
<p class="caption"><span class="caption-text">Peer + API (Dual) ノードコミュニケーション</span></p>
</div>
<p>API ノードの主な役割は、データを MongoDB に読み取り可能な形式で保存することです。 catapult-server ソフトウェアを使用すると、スタンドアロン API ノードまたは Peer 機能 (Dual) を構成できます。</p>
<p>データを MongoDB に直接書き込む代わりに、ノードはそれを <code class="docutils literal"><span class="pre">spool</span></code> と呼ばれるファイルベースのキューに書き込みます。ブローカーサービスはスプールからのデータを消費し、それに応じて MongoDB を更新します。ブロックが処理されると、ブローカーサービスは ZMQ を使用して Catapult REST インスタンスへの変更を通知します。</p>
<p>API ノードは <a class="reference internal" href="aggregate-transaction.html"><span class="doc">アグリゲートボンドトランザクション</span></a> の連署名を集める役割も果たし、それが完成したときにだけ処理されます。</p>
<div class="section" id="mongodb">
<h3>MongoDB<a class="headerlink" href="#mongodb" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p><a href="https://es.wikipedia.org/wiki/MongoDB" target="_blank">MongoDB</a> はブロック、トランザクションとチェーン状態をハイパフォーマンスの実現のために保存します。</p>
<p>次の場合にブローカーサービスはリンクした MongoDB を更新します:</p>
<ul class="simple">
<li>新しいブロック/ブロックの束の処理が終了します。</li>
<li>新しい未承認トランザクションの処理を完了します。</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">MongoDB は外部からアクセスされるべきではありません。</p>
</div>
</div>
<div class="section" id="zmq">
<h3>ZMQ<a class="headerlink" href="#zmq" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p><a href=" https://en.wikipedia.org/wiki/ZeroMQ" target="_blank">ZeroMQ</a> はリアルタイムの購読を可能にする非同期メッセージングライブラリです。API ノードから ZMQ エンドポイントに通知を転送し、それを Catapult REST が購読します。これは REST WebSocket に代わるもので、パフォーマンスが重要な場合に使用することを目的としています。</p>
</div>
</div>
<div class="section" id="rest-gateway">
<span id="id3"></span><h2>REST ゲートウェイ<a class="headerlink" href="#rest-gateway" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><strong>リポジトリ:</strong> <a href="https://github.com/nemtech/catapult-rest" target="_blank">Catapult REST</a></p>
<div class="figure align-center" id="id7">
<img alt="../_images/rest-detail.png" src="../_images/rest-detail.png" style="width: 500px;" />
<p class="caption"><span class="caption-text">REST ゲートウェイコミュニケーション</span></p>
</div>
<p>Catapult REST ゲートウェイは <a class="reference internal" href="../api.html"><span class="doc">JSON API</span></a> クライアントリクエストを処理します。ゲートウェイは MongoDB から読み取り、レスポンスをフォーマットして、それをクライアントに返却します。このコンポーネントは <a class="reference internal" href="../api.html#websockets"><span class="std std-ref">WebSockets</span></a> でクライアントにイベントを返却する役割も果たします。</p>
<p>各 REST ゲートウェイは1つの API インスタンスに接続して、クライアントサイドからトリガーされた新しいトランザクション要求を送信し、ソケットを使用してリアルタイムで更新を受信します。</p>
</div>
<div class="section" id="guides">
<h2>ガイド<a class="headerlink" href="#guides" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="postlist-style-circle postlist">
<li><p class="first"><a class="reference internal" href="../guides/network/creating-a-private-test-net.html">プライベートテストネットの作成</a></p>
<p>このガイドでは、 Symbol のテクノロジーを使用して、独自のプライベートネットワークをセットアップするプロセスを説明しています。</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/network/running-a-test-net-node.html">テストネットノードの立ち上げ</a></p>
<p>このガイドでは Symbol の <strong>パブリックテストネットワーク</strong> へ参加するための、あなたのノードのセットアップ方法を説明します。</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/network/configuring-network-properties.html">ネットワークプロパティの設定</a></p>
<p>ネットワーク設定パラメータの変更</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/network/configuring-node-properties.html">ノードのプロパティ設定</a></p>
<p>ノード設定パラメータの変更</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/network/connecting-to-mongodb.html">MongoDB への接続方法</a></p>
<p>あなたの API ノード MongoDB インスタンスへ接続する方法を学習する。</p>
</li>
</ul>
</div>
<div class="section" id="transaction-schemas">
<h2>Transaction schemas<a class="headerlink" href="#transaction-schemas" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="nodekeylinktransaction">
<span id="node-key-link-transaction"></span><h3>NodeKeyLinkTransaction<a class="headerlink" href="#nodekeylinktransaction" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Announce a NodeKeyLinkTransaction to link a public key to an account.
TLS uses the linked public key to create sessions.
Required for node operators.</p>
<p><strong>Version</strong>: 0x01</p>
<p><strong>EntityType</strong>: 0x424C</p>
<p><strong>Inlines</strong>:</p>
<ul class="simple">
<li><a class="reference internal" href="transaction.html#id2"><span class="std std-ref">Transaction</span></a> or <a class="reference internal" href="transaction.html#embedded-transaction"><span class="std std-ref">EmbeddedTransaction</span></a></li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>linkedPublicKey</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/blob/master/schemas/types.cats">Key</a></td>
<td>Linked public key.</td>
</tr>
<tr class="row-odd"><td>linkAction</td>
<td><a class="reference internal" href="harvesting.html#link-action"><span class="std std-ref">LinkAction</span></a></td>
<td>Account link action.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

  <div class="section">
  
  
  </div>

            
            <p class="feedback">
                <b>お探しのものは見つかりましたか？</b>
                <a href="https://github.com/nemtech/symbol-docs/issues/new/choose" target="_blank">フィードバックをください。</a>
            </p>
            
        </div>
         

<div class="col-md-2">
    <div class="bs-sidenav secondary" role="complementary">
        <div class="edit-github">
    <a href="https://github.com/nemtech/symbol-docs/edit/master/source/concepts/node.rst" rel="nofollow"> <i class="fab fa-github"></i> このページにを加筆修正する</a>
</div>
        <span class="title">このページ</span>
        <ul>
<li><a class="reference internal" href="#">ノード</a><ul>
<li><a class="reference internal" href="#peer-node">Peer ノード</a><ul>
<li><a class="reference internal" href="#rocksdb">RocksDB</a></li>
<li><a class="reference internal" href="#node-reputation">ノードレピュテーション</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-node">API ノード</a><ul>
<li><a class="reference internal" href="#mongodb">MongoDB</a></li>
<li><a class="reference internal" href="#zmq">ZMQ</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rest-gateway">REST ゲートウェイ</a></li>
<li><a class="reference internal" href="#guides">ガイド</a></li>
<li><a class="reference internal" href="#transaction-schemas">Transaction schemas</a><ul>
<li><a class="reference internal" href="#nodekeylinktransaction">NodeKeyLinkTransaction</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</div>

 
    </div>
</div>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-desktop',
        debug: false
    });

    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-mobile',
        debug: false
    });
</script>

  </body>
</html>